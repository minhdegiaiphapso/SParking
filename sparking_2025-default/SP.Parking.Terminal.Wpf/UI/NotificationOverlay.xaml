<Window x:Class="SP.Parking.Terminal.Wpf.UI.NotificationOverlay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:w="clr-namespace:SP.Parking.Terminal.Wpf.Utility"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="{DynamicResource WindowBackground}"
        IsHitTestVisible="False"
        MaxWidth="450"
        SizeToContent="Height"
        ShowInTaskbar="False"
        Focusable="False"
        ShowActivated="False"
        DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <Window.Resources>
        <w:StringToIconConverter x:Key="StringToIcon"/>
        <w:StringColorToBrushConverter x:Key="StringColorToBrush"/>
        <SolidColorBrush x:Key="WindowBackground" 
                        Color="Transparent"
                        Opacity="1"
                         />
    </Window.Resources>
    <!--StackPanel VerticalAlignment="Center">
        <StackPanel Orientation="Horizontal">
            <Rectangle Margin="10,0,5,0" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" Width="40" Fill="Red">
                <Rectangle.InputBindings>
                    <MouseBinding Gesture="LeftClick" Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ChangeLaneDirectionCommand}" />
                </Rectangle.InputBindings>
                <Rectangle.OpacityMask>
                    <VisualBrush Stretch="Uniform" Visual="{StaticResource appbar_creditcard}" />
                </Rectangle.OpacityMask>
            </Rectangle>
            <TextBlock
                    Margin="5"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Foreground="Red" 
                    Opacity="1" 
                    FontWeight="Bold" 
                    FontSize="20"
                    TextWrapping="Wrap"
                    TextAlignment="Left"
                    Width="250"
                    Text="Thẻ đang được check-in. Vui lòng check-out trước."/>
        </StackPanel>


        <StackPanel Orientation="Horizontal">
            <Rectangle Margin="10,0,5,0" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" Width="40" Fill="DarkViolet">
                <Rectangle.InputBindings>
                    <MouseBinding Gesture="LeftClick" Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ChangeLaneDirectionCommand}" />
                </Rectangle.InputBindings>
                <Rectangle.OpacityMask>
                    <VisualBrush Stretch="Uniform" Visual="{StaticResource appbar_bike_parking}" />
                </Rectangle.OpacityMask>
            </Rectangle>
            <TextBlock 
                    Margin="5"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Foreground="DarkViolet" 
                    Opacity="1" 
                    FontWeight="Bold" 
                    FontSize="20"
                    TextWrapping="Wrap"
                    TextAlignment="Left"
                    Width="250"
                    Text="Bãi xe đã đầy. Đang vượt quá - 10 chỗ."/>
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <Rectangle Margin="10,0,5,0" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" Width="40" Fill="Red">
                <Rectangle.InputBindings>
                    <MouseBinding Gesture="LeftClick" Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ChangeLaneDirectionCommand}" />
                </Rectangle.InputBindings>
                <Rectangle.OpacityMask>
                    <VisualBrush Stretch="Uniform" Visual="{StaticResource appbar_close}" />
                </Rectangle.OpacityMask>
            </Rectangle>
            <TextBlock 
                    Margin="5"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Foreground="Red" 
                    Opacity="1" 
                    FontWeight="Bold" 
                    FontSize="20"
                    TextWrapping="Wrap"
                    TextAlignment="Left"
                    Width="250"
                    Text="Biển số lúc vào không khớp"/>
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <Rectangle Margin="10,0,5,0" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" Width="40" Fill="LightGreen">
                <Rectangle.InputBindings>
                    <MouseBinding Gesture="LeftClick" Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ChangeLaneDirectionCommand}" />
                </Rectangle.InputBindings>
                <Rectangle.OpacityMask>
                    <VisualBrush Stretch="Uniform" Visual="{StaticResource appbar_check}" />
                </Rectangle.OpacityMask>
            </Rectangle>
            <TextBlock 
                    Margin="5"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Foreground="LightGreen" 
                    Opacity="1" 
                    FontWeight="Bold" 
                    FontSize="20"
                    TextWrapping="Wrap"
                    TextAlignment="Left"
                    Width="250"
                    Text="Xác nhận xe ra. [Enter] Đồng ý, [Control] Từ chối"/>
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <Rectangle Margin="10,0,5,0" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" Width="40" Fill="Yellow">
                <Rectangle.InputBindings>
                    <MouseBinding Gesture="LeftClick" Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.ChangeLaneDirectionCommand}" />
                </Rectangle.InputBindings>
                <Rectangle.OpacityMask>
                    <VisualBrush Stretch="Uniform" Visual="{StaticResource appbar_card_2}" />
                </Rectangle.OpacityMask>
            </Rectangle>
            <TextBlock 
                    Margin="5"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Foreground="Yellow" 
                    Opacity="1" 
                    FontWeight="Bold" 
                    FontSize="20"
                    TextWrapping="Wrap"
                    TextAlignment="Left"
                    Width="250"
                    Text="Biển số xe bị trùng, cần kiểm tra."/>
        </StackPanel>

    </StackPanel-->
    
    <Border BorderBrush="{StaticResource VietPark.Brushes.WayIn}" 
            Background="{StaticResource VietPark.Brushes.WayIn}" 
            BorderThickness="1" CornerRadius="5" Opacity="0.7">
        <StackPanel Margin="5">
            <ItemsControl ItemsSource="{Binding Notices}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate >
                        <StackPanel Orientation="Horizontal">
                            <Rectangle Margin="0,0,5,0" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                       Height="40" Width="40" 
                                       Fill="{Binding Color, Converter={StaticResource StringColorToBrush}}">
                                <Rectangle.OpacityMask>
                                    <VisualBrush Stretch="Uniform" Visual="{Binding Icon, Converter={StaticResource StringToIcon}}" />
                                </Rectangle.OpacityMask>
                            </Rectangle>
                            <TextBlock HorizontalAlignment="Left" 
                                       VerticalAlignment="Center" 
                                       Foreground="{Binding Color, Converter={StaticResource StringColorToBrush}}" 
                                       Opacity="1" 
                                       FontWeight="Bold" 
                                       FontSize="24"
                                       TextWrapping="Wrap"
                                       TextAlignment="Left"
                                       MaxWidth="400"
                                       Text="{ Binding Message }"/>
                        </StackPanel>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </Border>
</Window>