<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <!-- 
  See https://github.com/nlog/nlog/wiki/Configuration-file 
  for information on customizing logging rules and outputs.
   -->
  <targets>
    <!-- add your targets here -->
    
    <target xsi:type="File" name="logfile" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}.log"
            archiveFileName="${basedir}/logs/${shortdate}-{####}.log"
            layout="${longdate} ${uppercase:${level}} ${message}"
            archiveAboveSize="1048576"
            archiveNumbering="Sequence"
            concurrentWrites="true"/>
    <target xsi:type="File" name="requestException" fileName="${basedir}/logs/exception/${date:format=yyyy-MM-dd}/${date:format=yyyy-MM-dd HH00}.log"
            archiveFileName="${basedir}/logs/exception/${shortdate}-{####}.log"
            layout="${longdate} ${uppercase:${level}} ${message}"
            archiveAboveSize="1048576"
            archiveNumbering="Sequence"
            concurrentWrites="true"/>
    <target xsi:type="File" name="replicatefile" fileName="${basedir}/logs/replicate/${date:format=yyyy-MM-dd}/${date:format=yyyy-MM-dd HH00}.log"
            archiveFileName="${basedir}/logs/replicate/${shortdate}-{####}.log"
            layout="${longdate} ${uppercase:${level}} ${message}"
            archiveAboveSize="1048576"
            archiveNumbering="Sequence"
            concurrentWrites="true"/>
    <target xsi:type="File" name="loadimagedurationfile" fileName="${basedir}/logs/loadimageduration/${date:format=yyyy-MM-dd}/${date:format=yyyy-MM-dd HH00}.log"
            archiveFileName="${basedir}/logs/loadimageduration/${shortdate}-{####}.log"
            layout="${longdate} ${uppercase:${level}} ${message}"
            archiveAboveSize="1048576"
            archiveNumbering="Sequence"
            concurrentWrites="true"/>
  </targets>

  <rules>
    <!-- add your logging rules here -->
    <logger name="SP.Parking.Terminal.Core.Services.WebClientBasic" minlevel="Trace" writeTo="replicatefile" />
    <logger name="SP.Parking.Terminal.Wpf.Services.LogService" minlevel="Trace" maxlevel="Error" writeTo="requestException" />
    <logger name="SP.Parking.Terminal.Wpf.App" minlevel="Info" maxlevel="Fatal" writeTo="logfile" />
    <logger name="SP.Parking.Terminal.Core.ViewModels.CheckOutLaneViewModel" minlevel="Trace" maxlevel="Info" writeTo="loadimagedurationfile" />
  </rules>
</nlog>