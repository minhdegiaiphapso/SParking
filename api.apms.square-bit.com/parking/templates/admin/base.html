{% load admin_static wpadmin_tags wpadmin_menu_tags %}{% load firstof from future %}<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:"en-us" }}" {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{# WP Admin start #}
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
{# WP Admin end #}
<title>GPMS {% block title %}{% endblock %}</title>
<link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% static "admin/css/base.css" %}
    {% endblock %}" />
{% block extrastyle %}{% endblock %}
<!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="{% block stylesheet_ie %}{% static "admin/css/ie.css" %}{% endblock %}" /><![endif]-->
{% if LANGUAGE_BIDI %}<link rel="stylesheet" type="text/css" href="{% block stylesheet_rtl %}{% static "admin/css/rtl.css" %}{% endblock %}" />{% endif %}
{# WP Admin start #}
{# <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&subset=latin%2Clatin-ext" /> #}
<link rel="stylesheet" type="text/css" href="{% static "wpadmin/css/font-awesome.min.css" %}" />
{% with WPADMIN_DEV=0 %}{% if WPADMIN_DEV %}
<link rel="stylesheet/less" type="text/css" href="{% static "wpadmin/less/wpadmin.less" %}" />
<link rel="stylesheet/less" type="text/css" href="{% static "wpadmin/less/themes/default/theme.less" %}" />
<script type="text/javascript">less = {env: "development"};</script>
<script type="text/javascript" src="{% static "wpadmin/js/lib/less.min.js" %}"></script>
{% else %}
<link rel="stylesheet" type="text/css" href="{% static "wpadmin/css/wpadmin.css" %}" />
<link rel="stylesheet" type="text/css" href="{% static "wpadmin/css/themes/default.css" %}" />
{% endif %}{% endwith %}
{% wpadmin_render_custom_style %}
{% block wpadmin_extrastyle %}{% endblock %}
{# WP Admin end #}
<script type="text/javascript">window.__admin_media_prefix__ = "{% filter escapejs %}{% static "admin/" %}{% endfilter %}";</script>
{% block extrahead %}

    {% endblock %}
{# WP Admin start #}
<script type="text/javascript">
	// needed for setting cookie path
	window.__admin_url = '{% url 'admin:index' %}';
	// cookie name
	window.__wpadmin_cookie_name = 'djangoWpAdminSettings';

	// we need jQuery in default namespace (not django.jQuery) because we use some external jQuery plugins
	if (typeof jQuery == 'undefined') {
		// we can get jQuery object from django object but there are some admin templates where jQuery is not loaded
		if (typeof django == 'undefined' || typeof django.jQuery == 'undefined') {
			// so lets load our jQuery synchronously
			document.write(decodeURI("%3Cscript src='{% static "wpadmin/js/lib/jquery.min.js" %}' type='text/javascript'%3E%3C/script%3E"));
		} else {
			// lest copy jQuery from django object to default namespace
			var jQuery = django.jQuery;
		}
	}
</script>
<script type="text/javascript">
    $(function() {
    $('a').each(function(i) {
        var html = $(this).html() + '';
        html = html.replace('<i class="fa fa-fw fa-leaf"></i>', '<img src="/static/image/logo_gp_small.png" width="25px" height="25px" style="vertical-align: top; margin-top: 3px">');
        $(this).html(html);
    });
});
</script>
<script type="text/javascript" src="{% static "wpadmin/js/lib/jquery.cookie.min.js" %}"></script>
<script type="text/javascript" src="{% static "wpadmin/js/menus.js" %}"></script>
<script type="text/javascript" src="{% static "wpadmin/js/content.js" %}"></script>
{% block wpadmin_extrahead %}{% endblock %}
{# WP Admin end #}
{% block blockbots %}<meta name="robots" content="NONE,NOARCHIVE" />{% endblock %}
    <style>
        .DH{
            overflow: hidden;
            color: #27af60;
            position: fixed; /* Set the navbar to fixed position */
            bottom:0;
            right:0;
            padding:5px;
            width: auto;
            margin-left:10px;
            z-index:999999999999;
            font-weight: bold;
        }
    </style>
</head>
{% load i18n %}

{% wpadmin_are_breadcrumbs_enabled %}{% wpadmin_is_left_menu_enabled %}
<body class="{% if is_popup %}popup {% endif %}{% if not wpadmin_are_breadcrumbs_enabled %}wp-no-breadcrumbs {% endif %}{% if wpadmin_is_left_menu_enabled %}wp-with-left-menu {% endif %}{% block bodyclass %}{% endblock %}">

<!-- Wrapper -->
<div id="wrapper" style="height: 100%;">
	{% if not is_popup %}
		{% block adminmenu %}
			{% wpadmin_render_left_menu %}
		{% endblock%}
	{% endif %}

	<!-- Container -->
	<div id="container" style="height: 100%;">
        <div class="DH" id="dongho">

        </div>
		{% if not is_popup %}
			{% block adminbar %}
				{% wpadmin_render_top_menu %}
				<!--<a href="/admin/configfee/">Cấu hình phí</a>-->
			{% endblock %}
			{% block breadcrumbs %}
				<div class="breadcrumbs">
					<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
					{% if title %} &rsaquo; {{ title }}{% endif %}
				</div>
			{% endblock %}
		{% endif %}

		{% block messages %}
			{% if messages %}
				<ul class="messagelist">
					{% for message in messages %}
						<li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|capfirst }}</li>
					{% endfor %}
				</ul>
			{% endif %}
		{% endblock messages %}

		<!-- Content -->
		<div id="content" class="{% block coltype %}colM{% endblock %}">
			{% block pretitle %}{% endblock %}
			{% block content_title %}{% if title %}<h1>{{ title }}</h1>{% endif %}{% endblock %}
			{% block content %}
			{% block object-tools %}{% endblock %}
			{{ content }}
			{% endblock %}
			{% block sidebar %}{% endblock %}
			<br class="clear" />
		</div>
		<!-- END Content -->
		{% block footer %}<div id="footer"></div>{% endblock %}
        <!--<h3 class="copyright">Phát triển bởi Squarebit</h3>-->
	</div>
	<!-- END Container -->
</div>
<!-- END Wrapper -->


<script>

var myVar = setInterval(function(){ myTimer() }, 1000);
var tmppp=0
function myTimer() {
    tmppp=tmppp+1;
    var d = new Date();
    var t = d.toLocaleTimeString();

    var dd =   Math.floor(tmppp/86400);
    var HH =   Math.floor(tmppp/3600)%24;
    var mm =   Math.floor(tmppp/60)%60;
    var ss =   tmppp%60;
    var tmp= ffmm(dd)+'-'+ffmm(HH)+':'+ffmm(mm)+':'+ffmm(ss);

    document.getElementById("dongho").innerHTML = tmp;
}
function ffmm(s)
{
    if (s<10)
        return '0'+s;
    return ''+s;
}

window.onload = function() {
//    console.log(document.baseURI);
    if (document.baseURI.indexOf('/ticketpayment/') != -1) {
//        console.log("2. " + document.baseURI);
        var span_datetime_field_expired_date = document.getElementsByClassName('field-expired_date');

//        console.log('xoa calendar');
//        console.log(span_datetime_field_expired_date);

        for (var j = 0; j < span_datetime_field_expired_date.length; j++) {
            var ticketpaymentdetail_set = document.getElementById('ticketpaymentdetail_set-' + j);
            if (ticketpaymentdetail_set) {
                var _span_effective_date = ticketpaymentdetail_set.getElementsByClassName('field-effective_date')[0].getElementsByTagName('span')[0];
//                var _field_get_current_expired_date = ticketpaymentdetail_set.getElementsByClassName('field-get_current_expired_date')[0].getElementsByTagName('p')[0];
//                if (_field_get_current_expired_date) {
//                    if (_field_get_current_expired_date.innerHTML.length > 0) {
//                        if (_span_effective_date) {
//                            _span_effective_date.style.visibility = "hidden";
//                        }
//                    }
//                }

				var _field_get_this_old_expired_date = ticketpaymentdetail_set.getElementsByClassName('field-old_expired_date')[0]
                if (_field_get_this_old_expired_date) {
					var input_get_this_old_expired_date = _field_get_this_old_expired_date.getElementsByTagName('input')[0];
					input_get_this_old_expired_date.readOnly = true;
					input_get_this_old_expired_date.border = "none";

					var span_datetime_field_this_old_expired_date = _field_get_this_old_expired_date.getElementsByTagName('span')[0];
					if (span_datetime_field_this_old_expired_date) {
            			span_datetime_field_this_old_expired_date.style.visibility = "hidden";
					}

                    if (input_get_this_old_expired_date.innerHTML.length > 0) {
                        if (_span_effective_date) {
                            _span_effective_date.style.visibility = "hidden";
                        }
                    }
                }


//				var p_get_this_old_expired_date = document.getElementById('id_ticketpaymentdetail_set-' + j + '-old_expired_date')[0];
//
//                if (p_get_this_old_expired_date) {
//
//					var span_datetime_field_this_old_expired_date = p_get_this_old_expired_date.getElementsByTagName('span')[0];
//					if (span_datetime_field_this_old_expired_date) {
//            			span_datetime_field_this_old_expired_date.style.visibility = "hidden";
//					}
//
//                    if (p_get_this_old_expired_date.innerHTML.length > 0) {
//                        if (_span_effective_date) {
//                            _span_effective_date.style.visibility = "hidden";
//                        }
//                    }
//                }
            }

            var span_i = span_datetime_field_expired_date[j].getElementsByTagName('span')[0];
//            console.log("span_i " + span_i.outerHTML);
            if (span_i) {
                span_i.style.visibility = "hidden";
//                console.log("da hide");
            }
        }
    }
}


</script>
</body>
</html>