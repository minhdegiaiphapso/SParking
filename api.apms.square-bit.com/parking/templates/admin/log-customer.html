{% extends "admin/base.html" %}
{% block title %}
| Lịch sử thay đổi xe khách hàng
{% endblock %}

{% block branding %}
<h1 id="site-name" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
    xmlns="http://www.w3.org/1999/html">
</h1>
{% endblock %}

{% block extrahead %}

<link rel="stylesheet" type="text/css" href="/static/css/page.css"/>
<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/static/css/jquery.dataTables.min.css"/>
<link rel="stylesheet" type="text/css" href="/static/css/1.8.18/jquery-ui.css" media="all"/>

{% endblock %}

{% block content %}
<div class="containerRPS">

    <div>
        <a href="#xe">Lịch sử thay đổi xe</a><br />
        <a href="#canho">Lịch sử thay đổi căn hộ</a>
    </div>


    <h2 id="xe">Lịch sử thay đổi xe khách hàng</h2>

    <div class="containerRPS">
        <ul>
    <li><b>Tên khách hàng: <span style="color:blue">{{customer_name}}</span></b></li>
    <li><b>Toà nhà: <span style="color:blue">{{customer_building}}</span></b></li>
    <li><b>Căn hộ: <span style="color:blue">{{customer_apartment}}</span></b></li>
    <li><b>Công ty: <span style="color:blue">{{customer_company}}</span></b></li>
        </ul>

    {% if customer_vehicle_registration_log_data %}
    <br />
    <table id="datatable">
        <thead>
        <tr>
            <th>Mã thẻ</th>
            <th>Mã xe</th>
            <th>Biển số xe</th>
            <th style="width:90px">Loại xe</th>
            <th>Thời gian</th>
            <th>Hành động</th>
            <th>Nội dung</th>
        </tr>
        </thead>
        <tbody>
        {% for item in customer_vehicle_registration_log_data %}
        <tr>
            <td style="color: {{item.status_card_label}}">{{ item.card_label }}</td>
            <td style="width:70px">{{ item.vehicle_registration_id }}</td>
            <td style="color: {{item.status_vehicle_number}}"><p style="width:200px">{{ item.vehicle_number }}</p></td>
            <td>{{ item.vehicle_type }}</td>
            <td style="width:120px">{{ item.action_date }}</td>
            <td style="width:100px; color: {{item.status_action}}">{{ item.action_type }}</td>
            <td>{{ item.action_content }}</td>
        </tr>
        {% endfor %}
        </tbody>
           </table>
    {% endif %}
        </div>

    <br />
    <h2 id="canho">Lịch sử thay đổi căn hộ khách hàng</h2>

    <div class="containerRPS">

    {% if customer_apartment_log_data %}
    <br />
    <table id="datatable">
        <thead>
        <tr>
            <th>Mã căn hộ</th>
            <th>Chủ hộ</th>
            <th>Email</th>
            <th>Địa chỉ</th>
            <th>Thời gian</th>
            <th>Hành động</th>
            <th>Nội dung</th>
        </tr>
        </thead>
        <tbody>
        {% for item in customer_apartment_log_data %}
        <tr>
            <td style="color: {{item.status_apartment}}">{{ item.apartment_id }}</td>
            <td>{{ item.apartment_owner_name }}</td>
            <td>{{ item.apartment_owner_email}}</td>
            <td>{{ item.apartment_address}}</td>
            <td style="width:120px">{{ item.action_date }}</td>
            <td style="width:100px; color: {{item.status_action}}">{{ item.action_type }}</td>
            <td>{{ item.action_content }}</td>
        </tr>
        {% endfor %}
        </tbody>
           </table>
    {% endif %}
        </div>
</div>


<script src="/static/jquery/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
<script src="/static/jquery/jquery.min.js" type="text/javascript"></script>


<script src="/static/jquery/jquery.js"></script>
<script src="/static/jquery/jquery.dataTables.min.js"></script>

<script src="/static/jquery/jquery.min.js" type="text/javascript"></script>
<script src="/static/jquery/1.8.16/jquery-ui.min.js" type="text/javascript"></script>

<script>
    $(document).ready(function () {
        var table = $('#datatable').dataTable( {
            "iDisplayLength" : 25,
            "oLanguage": {
                "sProcessing":   "Đang xử lý...",
                "sLengthMenu":   "Xem _MENU_ mục",
                "sZeroRecords":  "Không tìm thấy dòng nào phù hợp",
                "sInfo":         "Đang xem _START_ đến _END_ trong tổng số _TOTAL_ mục",
                "sInfoEmpty":    "Đang xem 0 đến 0 trong tổng số 0 mục",
                "sInfoFiltered": "(được lọc từ _MAX_ mục)",
                "sInfoPostFix":  "",//
                "oPaginate": {
                "sFirst":    "Đầu",
                 "sPrevious": "Trước ",
                 "sNext":     " Sau",
                 "sLast":     "Cuối"
                 }
            }
        } );
    });

    var $j = jQuery.noConflict();
    $j(function() {
        $j("#card_label").autocomplete({
            source: "/admin/get_card_labels"

            });
        });
</script>
{% endblock %}
