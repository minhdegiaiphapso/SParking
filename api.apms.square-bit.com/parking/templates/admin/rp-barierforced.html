{% extends "admin/base.html" %}
{% block title %}
| Báo cáo tổng phí vãng lai
{% endblock %}

{% block branding %}
<h1 id="site-name" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
    xmlns="http://www.w3.org/1999/html">
</h1>
{% endblock %}

{% block extrahead %}
<!--custom view style-->
<link rel="stylesheet" type="text/css" href="/static/css/page.css" />

<!--datetimepicker-->
<link rel="stylesheet" type="text/css" href="/static/css/jquery.datetimepicker.css"/>

<!--datatable-->
<link rel="stylesheet" href="/static/css/bootstrap.min.css">
<link rel="stylesheet" href="/static/css/jquery.dataTables.min.css"/>
<style>
    .wrap-img{
        display:none;
        position:absolute;
        top:100px;
        left:100px;
        background-color:#cdefcd;
        border:solid 1px green;
    }
    .h-img{
        cursor:pointer;
    }
</style>
{% endblock %}

{% block content %}
<div class="containerRPS">
    <h2>Cững bức barier</h2>
    <form method="post" id="formRPS">
        {% csrf_token %}
        <div class="row">
            <div class="form-group col-md-3">
                <label>Từ ngày</label>
                <input class="form-control" type="text" value="{{from_time}}"
                       id="datetimepicker_start" name="from_time"/>
            </div>
            <div class="form-group col-md-3">
                <label>Đến ngày</label>
                <input class="form-control" type="text"
                       value='{{to_time}}'
                       id="datetimepicker_end"
                       name="to_time"/>
            </div>
            <div class="form-group col-md-3">
                <label>Địa chỉ máy trạm</label>
                 <select class="form-control" data-value="{{teminal}}"  name="teminal" id="dllteminal">
                {%if pcAddress%}
                    {%for pc in pcAddress%}
                        {%if pc.value == teminal%}
                        <option name="name" value="{{pc.value}}" selected="selected">{{pc.name}}</option>
                        {%else%}
                        <option name="name" value="{{pc.value}}">{{pc.name}}</option>
                        {%endif%}
                    {%endfor%}
                {%endif%}
                </select>

            </div>
            <div class="form-group col-md-3">
                <label>Người cưỡng bức</label>
                 <select class="form-control" data-value="{{status}}" name="lane" id="dlllane">
                {%if statuslane%}
                    {%for l in statuslane%}
                        {%if l.value == status%}
                        <option name="name" value="{{l.value}}" selected="selected">{{l.name}}</option>
                        {%else%}
                         <option name="name" value="{{l.value}}">{{l.name}}</option>
                        {%endif%}
                    {%endfor%}
                {%endif%}
                </select>
            </div>
            <div class="clear"></div>
            <div class="btn-group">
                <button  class="btn btn-primary" type="submit" name="btn_REPORT">
                    Báo cáo
                </button>
                <button class="btn btn-primary" type="submit" name="btn_FILTER">
                    Tìm kiếm
                </button>
            </div>
        </div>



    </form>
    <div>
        <!--<h2>Danh mục cưỡng bức barier</h2>-->
        <table class="grid">
            <thead>
                <tr>
                    <th>Địa chỉ máy trạm</th>
                    <th>Làn</th>
                    <th>Ngày cưỡng bức</th>
                    <th>Nhân viên</th>
                    <th>Hình mặt trước</th>
                    <th>Hình mặt sau</th>
                </tr>
            </thead>
            <tbody>
                {%if datadetail%}
                    {%for re in datadetail%}
                        <tr>
                            <td>{{re.teminal}}</td>
                            <td>{{re.lane}}</td>
                            <td>{{re.time}}</td>
                            <td>{{re.user}}</td>
                            <td>
                                <img onmousemove="over(this);" onmouseover="over(this);" onmouseout="out(this);" class="h-img" alt="no image" src="{{hostname}}{{re.front}}" height="80px">
                                <div class="wrap-img">
                                    <img alt="no image" src="{{hostname}}{{re.front}}" width="500px">
                                    <br>
                                    <span>Mặt trước: {{re.teminal}} - {{re.time}}</span>
                                </div>
                            </td>
                            <td>
                                <img onmousemove="over(this);" onmouseover="over(this);" onmouseout="out(this);" class="h-img" alt="no image" src="http://172.16.0.10:9191/images/{{re.back}}" height="80px">
                                <div class="wrap-img">
                                    <img alt="no image" src="http://172.16.0.10:9191/images/{{re.back}}" width="500px">
                                     <br>
                                    <span>mặt sau: {{re.teminal}} - {{re.time}}</span>
                                </div>
                            </td>
                        </tr>
                    {%endfor%}
                {%endif%}
            </tbody>
        </table>
    </div>
    <br/>
    <br/>
      <br/>
      <br/>
      <br/>
      <br/>
    <br/>
    <br/>
</div>

<!--script for datimepicker-->
<script src="/static/jquery/jquery.js"></script>
<script src="/static/jquery/jquery.datetimepicker.js"></script>
<script>

    jQuery('#datetimepicker_start').datetimepicker({
        format:'d/m/Y H:i:s',
        timepicker:true,
        lang:'vi',
        i18n:{
            vi:{
                months:[
                    'Tháng Một','Tháng Hai','Tháng Ba','Tháng Tư',
                    'Tháng Năm','Tháng Sáu','Tháng Bảy','Tháng Tám',
                    'Tháng Chín','Tháng Mười','Tháng Mười Một','Tháng Mười Hai',
                    ],
                dayOfWeek:[
                    "Chủ Nhật", "Hai", "Ba", "Tư",
                    "Năm", "Sáu", "Bảy."
                ]
            }
        },
        onShow:function( ct ){
            this.setOptions({
                maxDate:jQuery('#datetimepicker_end').val()?jQuery('#datetimepicker_end').val():false
            })
        }
    });
    jQuery('#datetimepicker_end').datetimepicker({
        format:'d/m/Y H:i:s',
        timepicker:true,
        lang:'vi',
        i18n:{
            vi:{
                months:[
                    'Tháng Một','Tháng Hai','Tháng Ba','Tháng Tư',
                    'Tháng Năm','Tháng Sáu','Tháng Bảy','Tháng Tám',
                    'Tháng Chín','Tháng Mười','Tháng Mười Một','Tháng Mười Hai'
                    ],
                dayOfWeek:[
                    "Chủ Nhật", "Hai", "Ba", "Tư",
                    "Năm", "Sáu", "Bảy."
                ]
            }
        },
        onShow:function( ct ){
            this.setOptions({

            })
        }
    });


</script>

<!--script for sort-table-->
<script src="/static/jquery/jquery.js"></script>

<link rel="stylesheet" href="/static/css/1.8.18/jquery-ui.css" type="text/css" media="all"/>
<script src="/static/jquery/jquery.min.js" type="text/javascript"></script>
<script src="/static/jquery/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
<script>
    function over(elm){
        var div=$(elm).next('div');
        div.css('left', event.pageX - 530);
        div.css('top', event.pageY-100);
        div.show();
    }
    function out(elm){
        var div=$(elm).next('div');
        div.hide();
        //alert(div.html());
    }
</script>
<link rel="stylesheet" href="/static/css/page.css">
{% endblock %}
<!--minLength: 2-->