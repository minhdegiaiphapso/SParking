<div ng-controller="activesamples" style="margin:20px; ">

    <div ng-if="mypermission.id==-1">
        <h2>Tài khoản của bạn chưa đủ quyền truy cập chức năng này</h2>
    </div>
    <div ng-show="mypermission.id!=-1">
    <img ng-show="loading" class="loading" src="/static/image/loading.gif">
    <div class="modal fade" id="callfees" role="dialog">
        <div class="modal-dialog" style="width:90%;">
          <!-- Modal content-->
          <div class="modal-content" style="width:100%;">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Tính phí cho trường hợp
                  <h5>Loại thẻ: <strong>[[demo.cardtype]]</strong></h5>
                  <h5>Loại xe: <strong>[[demo.vehicletype]]</strong></h5>
                  <h5>Mẫu phí được dùng: <strong ng-show="demo.samplename!=''">[[demo.samplename]]</strong><strong ng-show="demo.samplename==''">[[demo.samplename2]]</strong></h5>
                  <h5 ng-show="demo.samplename1!=''">Mẫu phí dùng khi hết hạn: <strong>[[demo.samplename1]]</strong></h5>

              </h4>
            </div>
            <div class="modal-body" >
                <form name="calculatefeeForm">
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label>Thời điểm check in:</label>
                            <div style="padding:0" class="form-control">
                                <input  style="height:34px;border:solid 1px #cdcdcd; border-top-left-radius:3px;border-bottom-left-radius:3px;"  type="date" class="col-md-7" placeholder="dd-MM-yyyy HH:mm:ss"
                                      required ng-model="demo.checkindate">
                                <input style="height:34px;border:solid 1px #cdcdcd; border-top-right-radius:3px;border-bottom-right-radius:3px;"  name="timestart" value="[[addsample.timestart]]" pattern="([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])" placeholder="HH:mm:ss" class="col-md-5"
                                  required ng-model="demo.checkintime">
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label>Thời điểm check out:</label>
                            <div style="padding:0" class="form-control">
                                <input style="height:34px;border:solid 1px #cdcdcd;border-top-left-radius:3px;border-bottom-left-radius:3px;"  type="date" class="col-md-7" placeholder="dd-MM-yyyy H:mm:ss"
                                      required ng-model="demo.checkoutdate">
                                <input style="height:34px;border:solid 1px #cdcdcd;border-top-right-radius:3px;border-bottom-right-radius:3px;"  name="timestart" value="[[addsample.timestart]]" pattern="([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])" placeholder="HH:mm:ss" class="col-md-5"
                                  required ng-model="demo.checkouttime">
                            </div>
                        </div>
                        <div  class="form-group col-md-4" ng-show="demo.samplename1!='' ">
                           <label>Ngày hết hạn nếu có:</label>
                           <input type="date" class="form-control" placeholder="dd-MM-yyyy"
                                  ng-model="demo.expireddate">
                        </div>
                        <div class="form-group col-md-12">
                            <img ng-show="loadingcall" class="loading-inner" src="/static/image/loading.gif">
                           <button style="width:120px;" type="submit" ng-click="callfee()" class="btn btn-success btn-block"
                               ng-disabled="calculatefeeForm.$invalid ||calculatefeeForm.$error.pattern">
                                Tính Phí
                            </button>
                        </div>

                    </div>
                </form>
                <table class="grid table table-bordered">
                    <thead>
                        <tr>
                            <th colspan="100%">Kết quả: [[demo.detail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                <!--[[demo.detail]]-->
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-if="demo.detail.detail.type==1">
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==5">
                                <span>[[demo.detail.detail.detail.nomal.callname]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.showdetail=true;" ng-hide="demo.detail.detail.detail.nomal.details.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.showdetail=false;" ng-hide="!demo.detail.detail.detail.nomal.details.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.nomal.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.nomal.to]]</td>
                                            <td>[[demo.detail.detail.detail.nomal.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.nomal.feedetail]]</td>
                                        </tr>
                                        <tr ng-show="demo.detail.detail.detail.nomal.details.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <td>Từ</td>
                                                            <td>Đến</td>
                                                            <td>Mức phí</td>
                                                            <td>Công thức</td>
                                                            <td>Mô tả</td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="itnn in demo.detail.detail.detail.nomal.details">
                                                            <td>[[itnn.from]]</td>
                                                            <td>[[itnn.to]]</td>
                                                            <td>[[itnn.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                            <td  ng-mouseover="itnn.showdetailformula=true" ng-mouseout="itnn.showdetailformula=false">Công thức
                                                                 <div style="position:absolute;width:250px;z-index:9;; background-color:#efefef;" ng-show="itnn.showdetailformula">
                                                                    <table class="table table-bordered">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Block</th>
                                                                                <th>Mức phí</th>
                                                                                <th>Đơn vị</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="dt in itnn.formula">
                                                                                <td>
                                                                                    <span ng-if="$first">[[dt.hours]]h đầu</span>
                                                                                    <span ng-if="$middle">[[dt.hours]]h tiếp theo</span>
                                                                                    <span ng-if="$last">Thời gian còn lại</span>
                                                                                    <span ng-if="dt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                    <span ng-if="!dt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                </td>
                                                                                <td class="text-info">[[(dt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                <td>[[dt.des]]</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </td>
                                                            <td>[[itnn.note]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==3">
                                <span>[[demo.detail.detail.detail.nomal.details.freedes]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.nomal.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-if="demo.detail.detail.detail.nomal.details.first!=''">
                                            <td><span ng-click="demo.detail.detail.detail.nomal.details.first.showdetail=true;" ng-hide="demo.detail.detail.detail.nomal.details.first.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.first.showdetail=false;" ng-hide="!demo.detail.detail.detail.nomal.details.first.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.nomal.details.first.from]]</td>
                                            <td>[[demo.detail.detail.detail.nomal.details.first.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.nomal.details.first.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.nomal.details.first.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.nomal.details.first.showdetail" ng-if="demo.detail.detail.detail.nomal.details.first!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.nomal.details.first.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                 <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-start = "it in demo.detail.detail.detail.nomal.details.minddle">
                                            <td>
                                                <span ng-click="it.showdetail=true;" ng-hide="it.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="it.showdetail=false;" ng-hide="!it.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[it.from]]</td>
                                            <td>[[it.to]]</td>
                                            <td style="text-align: right;">[[(it.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[it.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-repeat-end ng-hide="!it.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in it.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-if="demo.detail.detail.detail.nomal.details.last!=''">
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.last.showdetail=true;" ng-hide="demo.detail.detail.detail.nomal.details.last.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.last.showdetail=false;" ng-hide="!demo.detail.detail.detail.nomal.details.last.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.nomal.details.last.from]]</td>
                                            <td>[[demo.detail.detail.detail.nomal.details.last.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.nomal.details.last.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.nomal.details.last.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.nomal.details.last.showdetail" ng-if="demo.detail.detail.detail.nomal.details.last!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.nomal.details.last.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <span>[[demo.detail.detail.detail.nomal.details.tolerancedes]]</span>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==0">
                                [[demo.detail.detail.detail.nomal.callname]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==2">
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.nomal.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>[[demo.detail.detail.detail.nomal.from]]</td>
                                            <td>[[demo.detail.detail.detail.nomal.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.nomal.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==-1">
                                [[demo.detail.detail.detail.nomal.details]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==1">
                                [[demo.detail.detail.detail.nomal.callname]]
                                <strong>
                                    <span class="txt-info">Từ [[demo.detail.detail.detail.nomal.details.from]] đến [[demo.detail.detail.detail.nomal.details.to]]</span>
                                    [[demo.detail.detail.detail.nomal.details.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></strong>
                            </td>
                        </tr>
                        <tr ng-if="demo.detail.detail.type==0">
                            <td>[[demo.detail.detail.callname]]</td>
                        </tr>
                        <tr ng-if="demo.detail.detail.type==2">
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==5">
                                <span>[[demo.detail.detail.detail.expired.callname]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.expired.details.showdetail=true;" ng-hide="demo.detail.detail.detail.expired.details.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.expired.details.showdetail=false;" ng-hide="!demo.detail.detail.detail.expired.details.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.expired.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.expired.to]]</td>
                                            <td>[[demo.detail.detail.detail.expired.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.expired.feedetail]]</td>
                                        </tr>
                                        <tr ng-show="demo.detail.detail.detail.expired.details.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <td>Từ</td>
                                                            <td>Đến</td>
                                                            <td>Mức phí</td>
                                                            <td>Công thức</td>
                                                            <td>Mô tả</td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="itnn in demo.detail.detail.detail.expired.details">
                                                            <td>[[itnn.from]]</td>
                                                            <td>[[itnn.to]]</td>
                                                            <td>[[itnn.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                            <td  ng-mouseover="itnn.showdetailformula=true" ng-mouseout="itnn.showdetailformula=false">Công thức
                                                                 <div style="position:absolute;width:250px;z-index:9;; background-color:#efefef;" ng-show="itnn.showdetailformula">
                                                                    <table class="table table-bordered">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Block</th>
                                                                                <th>Mức phí</th>
                                                                                <th>Đơn vị</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="dt in itnn.formula">
                                                                                <td>
                                                                                    <span ng-if="$first">[[dt.hours]]h đầu</span>
                                                                                    <span ng-if="$middle">[[dt.hours]]h tiếp theo</span>
                                                                                    <span ng-if="$last">Thời gian còn lại</span>
                                                                                    <span ng-if="dt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                    <span ng-if="!dt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                </td>
                                                                                <td class="text-info">[[(dt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                <td>[[dt.des]]</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </td>
                                                            <td>[[itnn.note]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==3">
                                <span>[[demo.detail.detail.detail.expired.details.freedes]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.expired.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-if="demo.detail.detail.detail.expired.details.first!=''">
                                            <td><span ng-click="demo.detail.detail.detail.expired.details.first.showdetail=true;" ng-hide="demo.detail.detail.detail.expired.details.first.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.expired.details.first.showdetail=false;" ng-hide="!demo.detail.detail.detail.expired.details.first.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.expired.details.first.from]]</td>
                                            <td>[[demo.detail.detail.detail.expired.details.first.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.expired.details.first.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.expired.details.first.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.expired.details.first.showdetail" ng-if="demo.detail.detail.detail.expired.details.first!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.expired.details.first.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                 <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-start = "it in demo.detail.detail.detail.expired.details.minddle">
                                            <td>
                                                <span ng-click="it.showdetail=true;" ng-hide="it.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="it.showdetail=false;" ng-hide="!it.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[it.from]]
                                            </td>
                                            <td>[[it.to]]</td>
                                            <td style="text-align: right;">[[(it.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[it.weekofdatename]]</td>
                                        </tr>
                                         <tr ng-repeat-end ng-hide="!it.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in it.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-if="demo.detail.detail.detail.expired.details.last!=''">
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.expired.details.last.showdetail=true;" ng-hide="demo.detail.detail.detail.expired.details.last.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.expired.details.last.showdetail=false;" ng-hide="!demo.detail.detail.detail.expired.details.last.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.expired.details.last.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.expired.details.last.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.expired.details.last.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.expired.details.last.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.expired.details.last.showdetail" ng-if="demo.detail.detail.detail.expired.details.last!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.expired.details.last.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <span>[[demo.detail.detail.detail.expired.details.tolerancedes]]</span>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==0">
                                [[demo.detail.detail.detail.expired.callname]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==2 ">

                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.expired.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>[[demo.detail.detail.detail.expired.from]]</td>
                                            <td>[[demo.detail.detail.detail.expired.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.expired.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==-1">
                                [[demo.detail.detail.detail.expired.details]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==1">
                                [[demo.detail.detail.detail.expired.callname]]
                                <strong>
                                    <span class="txt-info">Từ [[demo.detail.detail.detail.expired.details.from]] đến [[demo.detail.detail.detail.expired.details.to]]</span>
                                    [[demo.detail.detail.detail.expired.details.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></strong>
                            </td>
                        </tr>
                        <tr ng-if="demo.detail.detail.type==3" >
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==5">
                                <span>[[demo.detail.detail.detail.nomal.callname]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.showdetail=true;" ng-hide="demo.detail.detail.detail.nomal.details.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.showdetail=false;" ng-hide="!demo.detail.detail.detail.nomal.details.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.nomal.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.nomal.to]]</td>
                                            <td>[[demo.detail.detail.detail.nomal.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.nomal.feedetail]]</td>
                                        </tr>
                                        <tr ng-show="demo.detail.detail.detail.nomal.details.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <td>Từ</td>
                                                            <td>Đến</td>
                                                            <td>Mức phí</td>
                                                            <td>Công thức</td>
                                                            <td>Mô tả</td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="itnn in demo.detail.detail.detail.nomal.details">
                                                            <td>[[itnn.from]]</td>
                                                            <td>[[itnn.to]]</td>
                                                            <td>[[itnn.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                            <td  ng-mouseover="itnn.showdetailformula=true" ng-mouseout="itnn.showdetailformula=false">Công thức
                                                                 <div style="position:absolute;width:250px;z-index:9;; background-color:#efefef;" ng-show="itnn.showdetailformula">
                                                                    <table class="table table-bordered">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Block</th>
                                                                                <th>Mức phí</th>
                                                                                <th>Đơn vị</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="dt in itnn.formula">
                                                                                <td>
                                                                                    <span ng-if="$first">[[dt.hours]]h đầu</span>
                                                                                    <span ng-if="$middle">[[dt.hours]]h tiếp theo</span>
                                                                                    <span ng-if="$last">Thời gian còn lại</span>
                                                                                    <span ng-if="dt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                    <span ng-if="!dt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                </td>
                                                                                <td class="text-info">[[(dt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                <td>[[dt.des]]</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </td>
                                                            <td>[[itnn.note]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==3">
                                <span>[[demo.detail.detail.detail.nomal.details.freedes]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.nomal.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-if="demo.detail.detail.detail.nomal.details.first!=''">
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.first.showdetail=true;" ng-hide="demo.detail.detail.detail.nomal.details.first.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.first.showdetail=false;" ng-hide="!demo.detail.detail.detail.nomal.details.first.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.nomal.details.first.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.nomal.details.first.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.nomal.details.first.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.nomal.details.first.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.nomal.details.first.showdetail" ng-if="demo.detail.detail.detail.nomal.details.first!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.nomal.details.first.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                 <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-start = "it in demo.detail.detail.detail.nomal.details.minddle">
                                            <td>
                                                <span ng-click="it.showdetail=true;" ng-hide="it.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="it.showdetail=false;" ng-hide="!it.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[it.from]]
                                            </td>
                                            <td>[[it.to]]</td>
                                            <td style="text-align: right;">[[(it.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[it.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-repeat-end ng-hide="!it.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in it.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-if="demo.detail.detail.detail.nomal.details.last!=''">
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.last.showdetail=true;" ng-hide="demo.detail.detail.detail.nomal.details.last.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.nomal.details.last.showdetail=false;" ng-hide="!demo.detail.detail.detail.nomal.details.last.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.nomal.details.last.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.nomal.details.last.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.nomal.details.last.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.nomal.details.last.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.nomal.details.last.showdetail" ng-if="demo.detail.detail.detail.nomal.details.last!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.nomal.details.last.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <span>[[demo.detail.detail.detail.nomal.details.tolerancedes]]</span>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==0">
                                [[demo.detail.detail.detail.nomal.callname]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==2 ">

                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.nomal.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>[[demo.detail.detail.detail.nomal.from]]</td>
                                            <td>[[demo.detail.detail.detail.nomal.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.nomal.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==-1">
                                [[demo.detail.detail.detail.nomal.details]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.nomal.feetype==1">
                                [[demo.detail.detail.detail.nomal.callname]]

                                <strong>
                                    <span> Từ [[demo.detail.detail.detail.nomal.details.from]] đến [[demo.detail.detail.detail.nomal.details.to]]</span>
                                    [[demo.detail.detail.detail.nomal.details.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></strong>
                            </td>
                        </tr>
                        <tr  ng-if="demo.detail.detail.type==3">
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==5">
                                <span>[[demo.detail.detail.detail.expired.callname]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.expired.details.showdetail=true;" ng-hide="demo.detail.detail.detail.expired.details.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.expired.details.showdetail=false;" ng-hide="!demo.detail.detail.detail.expired.details.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.expired.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.expired.to]]</td>
                                            <td>[[demo.detail.detail.detail.expired.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.expired.feedetail]]</td>
                                        </tr>
                                        <tr ng-show="demo.detail.detail.detail.expired.details.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <td>Từ</td>
                                                            <td>Đến</td>
                                                            <td>Mức phí</td>
                                                            <td>Công thức</td>
                                                            <td>Mô tả</td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="itnn in demo.detail.detail.detail.expired.details">
                                                            <td>[[itnn.from]]</td>
                                                            <td>[[itnn.to]]</td>
                                                            <td>[[itnn.fee| number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                            <td  ng-mouseover="itnn.showdetailformula=true" ng-mouseout="itnn.showdetailformula=false">Công thức
                                                                 <div style="position:absolute;width:250px;z-index:9;; background-color:#efefef;" ng-show="itnn.showdetailformula">
                                                                    <table class="table table-bordered">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Block</th>
                                                                                <th>Mức phí</th>
                                                                                <th>Đơn vị</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="dt in itnn.formula">
                                                                                <td>
                                                                                    <span ng-if="$first">[[dt.hours]]h đầu</span>
                                                                                    <span ng-if="$middle">[[dt.hours]]h tiếp theo</span>
                                                                                    <span ng-if="$last">Thời gian còn lại</span>
                                                                                    <span ng-if="dt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                    <span ng-if="!dt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                </td>
                                                                                <td class="text-info">[[(dt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                <td>[[dt.des]]</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </td>
                                                            <td>[[itnn.note]]</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==0">
                                [[demo.detail.detail.detail.expired.callname]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==2">
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.expired.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>[[demo.detail.detail.detail.expired.from]]</td>
                                            <td>[[demo.detail.detail.detail.expired.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.expired.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==-1">
                                [[demo.detail.detail.detail.expired.details]]
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==1">
                                [[demo.detail.detail.detail.expired.callname]]
                                <strong>
                                    <span class="txt-info">Từ [[demo.detail.detail.detail.expired.details.from]] đến [[demo.detail.detail.detail.expired.details.to]]</span>
                                    [[demo.detail.detail.detail.expired.details.fee | number:0]]
                                    <span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                </strong>
                            </td>
                            <td colspan="100%" ng-if="demo.detail.detail.detail.expired.feetype==3">
                                <span>[[demo.detail.detail.detail.expired.details.freedes]]</span>
                                <table class="grid table table-bordered" >
                                    <thead>
                                        <tr>
                                            <td colspan="100%">Mẫu phí:[[demo.detail.detail.detail.expired.callname]]</td>
                                        </tr>
                                        <tr>
                                            <td>Từ</td>
                                            <td>Đến</td>
                                            <td>Mức phí</td>
                                            <td>Mô tả</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-if="demo.detail.detail.detail.expired.details.first!=''">
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.expired.details.first.showdetail=true;" ng-hide="demo.detail.detail.detail.expired.details.first.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.expired.details.first.showdetail=false;" ng-hide="!demo.detail.detail.detail.expired.details.first.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.expired.details.first.from]]
                                            </td>
                                            <td>[[demo.detail.detail.detail.expired.details.first.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.expired.details.first.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.expired.details.first.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.expired.details.first.showdetail" ng-if="demo.detail.detail.detail.expired.details.first!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.expired.details.first.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                 <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-start = "it in demo.detail.detail.detail.expired.details.minddle">
                                            <td>
                                                <span ng-click="it.showdetail=true;" ng-hide="it.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="it.showdetail=false;" ng-hide="!it.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[it.from]]
                                            </td>
                                            <td>[[it.to]]</td>
                                            <td style="text-align: right;">[[(it.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[it.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-repeat-end ng-hide="!it.showdetail">
                                            <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in it.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr ng-if="demo.detail.detail.detail.expired.details.last!=''">
                                            <td>
                                                <span ng-click="demo.detail.detail.detail.expired.details.last.showdetail=true;" ng-hide="demo.detail.detail.detail.expired.details.last.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                                                <span ng-click="demo.detail.detail.detail.expired.details.last.showdetail=false;" ng-hide="!demo.detail.detail.detail.expired.details.last.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                                                [[demo.detail.detail.detail.expired.details.last.from]]</td>
                                            <td>[[demo.detail.detail.detail.expired.details.last.to]]</td>
                                            <td style="text-align: right;">[[(demo.detail.detail.detail.expired.details.last.fee| number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                            <td>[[demo.detail.detail.detail.expired.details.last.weekofdatename]]</td>
                                        </tr>
                                        <tr ng-hide="!demo.detail.detail.detail.expired.details.last.showdetail" ng-if="demo.detail.detail.detail.expired.details.last!=''">
                                             <td colspan="100%">
                                                <table class="grid table table-bordered">
                                                    <thead>
                                                        <th>Từ</th>
                                                        <th>Đến</th>
                                                        <th>Phí</th>
                                                        <th>Chi tiết</th>
                                                        <th>Công thức</th>
                                                        <th>Tổng thời gian</th>
                                                        <th>Khoản cách từ check-in</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat = "itdetail in demo.detail.detail.detail.expired.details.last.feedetail">
                                                            <td>
                                                                [[itdetail.fromsub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.tosub]]
                                                            </td>
                                                            <td>
                                                                [[itdetail.fee | number:0]]<span style="font-size:x-small;vertical-align: text-top;">đ</span>
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetaild=true" ng-mouseout="itdetail.showdetaild=false">
                                                                    <span>Chi tiết</span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetaild">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Từ</th>
                                                                                    <th>Đếń</th>
                                                                                    <th>Phí</th>
                                                                                    <th>Cách tính</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fedetail.fedetail">
                                                                                    <td>
                                                                                        [[dtt.from]]
                                                                                    </td>
                                                                                    <td>
                                                                                        [[dtt.to]]
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.fee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!--[[itdetail.fedetail.fedetail]]-->
                                                            </td>
                                                            <td>
                                                                <div ng-mouseover="itdetail.showdetail=true" ng-mouseout="itdetail.showdetail=false">
                                                                    <span  style="cursor:pointer;">
                                                                            [[itdetail.fomurla.callname]]
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==1" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/block</span>
                                                                        </strong>
                                                                        <strong class="text-active" ng-if="itdetail.fomurla.feetype==0" style="font-size:large" >
                                                                            [[(itdetail.fomurla.fullfee | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ/giờ</span>
                                                                        </strong>
                                                                    </span>
                                                                    <div style="position:absolute;z-index:999" ng-show="itdetail.showdetail" ng-if="itdetail.fomurla.feetype==2">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Block</th>
                                                                                    <th>Mức phí</th>
                                                                                    <th>Đơn vị</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr ng-repeat="dtt in itdetail.fomurla.detail">
                                                                                    <td>
                                                                                        <span ng-if="$first">[[dtt.hours]]h đầu</span>
                                                                                        <span ng-if="$middle">[[dtt.hours]]h tiếp theo</span>
                                                                                        <span ng-if="$last">Thời gian còn lại</span>
                                                                                        <span ng-if="dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Lặp lại</span>
                                                                                        <span ng-if="!dtt.isonly" style="font-size:x-small;vertical-align: text-top;">Chỉ một lần</span>
                                                                                    </td>
                                                                                    <td class="text-info">[[(dtt.money | number:0)]]<span style="font-size:x-small;vertical-align: text-top;">đ</span></td>
                                                                                    <td>[[dtt.des]]</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>[[itdetail.totalhours]]h</td>
                                                            <td>[[itdetail.totalhours1]]h</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <span>[[demo.detail.detail.detail.expired.details.tolerancedes]]</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">

            </div>
          </div>
        </div>
      </div>
        <div ng-if="mypermission.isadd">
            <table class="grid table table-bordered">
                <thead>
                    <tr>
                        <th>
                            Chọn nhiều loại thẻ </th>
                        <th>Chọn nhiều loại xe</th>
                    </tr>
                <tr>
                    <td colspan="100%">
                        <div ng-repeat="item in sampleregissimilar.cardtypes">
                            <label for="chkslsml[[item.id]]">
                                <input value="[[item.chosen]]" type="checkbox" id="chkslsml[[item.id]]" ng-model="item.chosen"/>
                                [[item.name]]
                            </label>
                            <div  style="padding-left:25px; background-color:#2ecc71;color:black;" ng-show="item.chosen">
                                <label for="chkslsmlvt[[item.id]][[vt.id]]" ng-repeat="vt in item.vehicles">
                                    <input values="[[vt.chosen]]" type="checkbox" id="chkslsmlvt[[item.id]][[vt.id]]" ng-model="vt.chosen"/>
                                    [[vt.name]]
                                </label>
                            </div>
                        </div>
                    </td>
                </tr>
                </thead>
                <tbody>
                    <tr ng-if="item.chosen" ng-repeat="item in sampleregissimilar.cardtypes">
                        <td>[[item.name]]</td>
                        <td>
                            <span ng-if="vt.chosen" ng-repeat="vt in item.vehicles">
                                [[vt.name]],
                            </span>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="100%" style="margin:0;padding:0">
                             <form name="sampleregisformsimilar">
                                <table style="margin:0;padding:0" class="grid table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Công thức phí chưa đăng ký</th>
                                            <th>Công thức phí tháng</th>
                                            <th>Công thức phí tháng sau hết hạn</th>
                                            <th>Ngày hiệu lực</th>
                                            <th>#</th>
                                        </tr>
                                        <tr>
                                             <th>
                                                <!--<select required ng-init="sampleregissimilar.sample1.sampleselected=sampleregissimilar.sample1.samples[0]" ng-model="sampleregissimilar.sample1.sampleselected" class="form-control"-->
                                                    <!--ng-options="it as it.callname for it in sampleregissimilar.sample1.samples"></select>-->
                                                 <div ng-click="sampleregissimilar.sample2.samples.fiterformula='';sampleregissimilar.sample2.samples.showlistfolmurla=!sampleregissimilar.sample2.samples.showlistfolmurla;sampleregissimilar.sample.samples.showlistfolmurla=false;">
                                                    <span ng-init="sampleregissimilar.sample2.sampleselected=sampleregissimilar.sample2.samples[0]" class="form-control"
                                                          ng-style="sampleregissimilar.sample2.sampleselected.id === -1 && {'background-color': 'orange'}||sampleregissimilar.sample2.sampleselected.id !== -1 && {'background-color': 'green'}">
                                                        [[sampleregissimilar.sample2.sampleselected.callname]]
                                                    </span>
                                                </div>
                                                <ul ng-mouseover="sampleregissimilar.sample2.samples.showlistfolmurla=true;"  ng-mouseout="sampleregissimilar.sample2.samples.showlistfolmurla=false;" class="fomurla" style="position:absolute;z-index:9999;" ng-show="sampleregissimilar.sample2.samples.showlistfolmurla">
                                                    <li><input class="form-control"  type="text" ng-change="filterformular(sampleregissimilar.sample2.samples);"  ng-model="sampleregissimilar.sample2.samples.fiterformula" placeholder="Lọc" style="background-color:#fff;" class="form-control" /> </li>
                                                    <li ng-show="(sampleregissimilar.sample2.samples.fiterformula=='' || it.canshow)"  style="background-color:#2ecc71;" ng-repeat="it in sampleregissimilar.sample2.samples" ng-click="sampleregissimilar.sample2.sampleselected=sampleregissimilar.sample2.samples[$index];sampleregissimilar.sample2.samples.showlistfolmurla=false;" >
                                                            [[it.callname]]
                                                    </li>
                                                </ul>
                                            </th>
                                            <th>
                                                <!--<select required ng-init="sampleregissimilar.sample.sampleselected=sampleregissimilar.sample.samples[0]" ensure-expression="sampleregissimilar.sample.sampleselected.id!=-1"  ng-model="sampleregissimilar.sample.sampleselected" class="form-control"-->
                                                    <!--ng-options="it as it.callname for it in sampleregissimilar.sample.samples"></select>-->
                                                <div ng-click="sampleregissimilar.sample.samples.fiterformula='';sampleregissimilar.sample.samples.showlistfolmurla=!sampleregissimilar.sample.samples.showlistfolmurla;sampleregissimilar.sample1.samples.showlistfolmurla=false;">
                                                    <span style="cursor:pointer; background-color:green;color:black;"
                                                            ng-init="sampleregissimilar.sample.sampleselected=sampleregissimilar.sample.samples[0]" class="form-control" style="cursor:pointer;color:black;">
                                                        [[sampleregissimilar.sample.sampleselected.callname]]
                                                    </span>
                                                </div>
                                                <ul ng-mouseover="sampleregissimilar.sample.samples.showlistfolmurla=true;"  ng-mouseout="sampleregissimilar.sample.samples.showlistfolmurla=false;" class="fomurla" style="position:absolute;z-index:9999;" ng-show="sampleregissimilar.sample.samples.showlistfolmurla">
                                                    <li><input class="form-control"  type="text" ng-change="filterformular(sampleregissimilar.sample.samples);"  ng-model="sampleregissimilar.sample.samples.fiterformula" placeholder="Lọc" style="background-color:#fff;" class="form-control" /> </li>
                                                    <li ng-show="(sampleregissimilar.sample.samples.fiterformula=='' || it.canshow)"  style="background-color:#2ecc71;" ng-repeat="it in sampleregissimilar.sample.samples" ng-click="sampleregissimilar.sample.sampleselected=sampleregissimilar.sample.samples[$index];sampleregissimilar.sample.samples.showlistfolmurla=false;" >
                                                            [[it.callname]]
                                                    </li>
                                                </ul>
                                            </th>
                                            <th>
                                                <!--<select required ng-init="sampleregissimilar.sample1.sampleselected=sampleregissimilar.sample1.samples[0]" ng-model="sampleregissimilar.sample1.sampleselected" class="form-control"-->
                                                    <!--ng-options="it as it.callname for it in sampleregissimilar.sample1.samples"></select>-->
                                                 <div ng-click="sampleregissimilar.sample1.samples.fiterformula='';sampleregissimilar.sample1.samples.showlistfolmurla=!sampleregissimilar.sample1.samples.showlistfolmurla;sampleregissimilar.sample.samples.showlistfolmurla=false;">
                                                    <span ng-init="sampleregissimilar.sample1.sampleselected=sampleregissimilar.sample1.samples[0]" class="form-control" style="cursor:pointer; background-color:green;color:black;">
                                                        [[sampleregissimilar.sample1.sampleselected.callname]]
                                                    </span>
                                                </div>
                                                <ul ng-mouseover="sampleregissimilar.sample1.samples.showlistfolmurla=true;"  ng-mouseout="sampleregissimilar.sample1.samples.showlistfolmurla=false;" class="fomurla" style="position:absolute;z-index:9999;" ng-show="sampleregissimilar.sample1.samples.showlistfolmurla">
                                                    <li><input class="form-control"  type="text" ng-change="filterformular(sampleregissimilar.sample1.samples);"  ng-model="sampleregissimilar.sample1.samples.fiterformula" placeholder="Lọc" style="background-color:#fff;" class="form-control" /> </li>
                                                    <li ng-show="(sampleregissimilar.sample1.samples.fiterformula=='' || it.canshow)"  style="background-color:#2ecc71;" ng-repeat="it in sampleregissimilar.sample1.samples" ng-click="sampleregissimilar.sample1.sampleselected=sampleregissimilar.sample1.samples[$index];sampleregissimilar.sample1.samples.showlistfolmurla=false;" >
                                                            [[it.callname]]
                                                    </li>
                                                </ul>
                                            </th>
                                            <th>
                                                <input type="date" class="form-control" placeholder="dd-MM-yyyy" ng-click="sampleregissimilar.sample1.samples.showlistfolmurla=false;sampleregissimilar.sample.samples.showlistfolmurla=false;"
                                                  required ng-model="item.activedate">
                                            </th>

                                            <th colspan="3">
                                                 <img ng-show="loadingaddsimilar" class="loading-inner" src="/static/image/loading.gif">
                                                <button type="submit" ng-click="post_sampleregissimilar(item)" class="btn btn-success btn-block"
                                                    ng-disabled="sampleregisformsimilar.$invalid ||sampleregisformsimilar.$error.pattern || sampleregissimilar.sample2.sampleselected.id==-1" >
                                                    Lưu
                                                </button>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>
                        </td>
                    </tr>
                </tfoot>
            </table>

        </div>
        <table class="grid table table-bordered">
            <thead>
                <tr>
                    <th>Loại thẻ</th>
                    <th>Loại xe</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat-start="item in sampleregis" id="item[[$index]]">
                    <th>
                        <span ng-click="item.showdetail=true;item.detail = getdetail(item);scrollthis($index);" ng-hide="item.showdetail" style="cursor:pointer;" class="glyphicon glyphicon-plus"></span>
                        <span ng-click="item.showdetail=false;" ng-hide="!item.showdetail" style="cursor:pointer;"  class="glyphicon glyphicon-minus"></span>
                        [[item.cardtype.name]]
                    </th>
                    <th>
                        [[item.vehicletype.name]]
                    </th>
                </tr>
                <tr ng-repeat-end ng-show="item.showdetail">
                    <td colspan="2">
                        <form name="sampleregisform">
                            <table class="grid table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Công thức phí chưa đăng ký</th>
                                        <th>Công thức phí tháng</th>
                                        <th>Công thức phí tháng sau hết hạn</th>
                                        <th>Ngày hiệu lực</th>
                                        <th>Ngày kết thúc</th>
                                        <th>Người tạo</th>
                                        <th>#</th>
                                    </tr>
                                    <tr ng-if="mypermission.isadd">
                                         <th>
                                            <!--<select required ng-init="item.samplesset1.sampleselected=item.samplesset1.samples[0]" ng-model="item.samplesset1.sampleselected" class="form-control"-->
                                                <!--ng-options="it as it.callname for it in item.samplesset1.samples"></select>-->
                                            <div ng-click="item.samplesset2.samples.fiterformula='';item.showlistfolmurla2=!item.showlistfolmurla2;item.showlistfolmurla=false;">
                                                <span ng-init="item.samplesset2.sampleselected=item.samplesset2.samples[0]" class="form-control"
                                                    ng-style="item.samplesset2.sampleselected.id === -1 && {'background-color': 'orange'}||item.samplesset2.sampleselected.id !== -1 && {'background-color': 'green'}">
                                                    [[item.samplesset2.sampleselected.callname]]
                                                </span>
                                            </div>
                                            <ul ng-mouseover="item.showlistfolmurla2=true;"  ng-mouseout="item.showlistfolmurla2=false;" class="fomurla" style="position:absolute;z-index:9999;" ng-show="item.showlistfolmurla2">
                                                <li><input class="form-control"  type="text" ng-change="filterformular(item.samplesset2.samples);"  ng-model="item.samplesset2.samples.fiterformula" placeholder="Lọc" style="background-color:#fff;" class="form-control" /> </li>
                                                <li ng-show="(item.samplesset2.samples.fiterformula=='' || it.canshow)"  style="background-color:#2ecc71;" ng-repeat="it in item.samplesset2.samples" ng-click="item.samplesset2.sampleselected=item.samplesset2.samples[$index];item.showlistfolmurla2=false;" >
                                                        [[it.callname]]
                                                </li>
                                            </ul>
                                        </th>
                                        <th>
                                            <!--<select required ng-init="item.sampleset.sampleselected=item.sampleset.samples[0]" ensure-expression="item.sampleset.sampleselected.id!=-1"  ng-model="item.sampleset.sampleselected" class="form-control"-->
                                                <!--ng-options="it as it.callname for it in item.sampleset.samples"></select>-->
                                            <div ng-click="item.sampleset.samples.fiterformula='';item.showlistfolmurla=!item.showlistfolmurla;item.showlistfolmurla1=false;">
                                                <span style="cursor:pointer;background-color:green;color:black;"
                                                      ng-init="item.sampleset.sampleselected=item.sampleset.samples[0]" class="form-control" style="cursor:pointer;color:black;">
                                                    [[item.sampleset.sampleselected.callname]]
                                                </span>
                                            </div>
                                            <ul ng-mouseover="item.showlistfolmurla=true;"  ng-mouseout="item.showlistfolmurla=false;" class="fomurla" style="position:absolute;z-index:9999;" ng-show="item.showlistfolmurla">
                                                <li><input class="form-control"  type="text" ng-change="filterformular(item.sampleset.samples);"  ng-model="item.sampleset.samples.fiterformula" placeholder="Lọc" style="background-color:#fff;" class="form-control" /> </li>
                                                <li ng-show="(item.sampleset.samples.fiterformula=='' || it.canshow)"  style="background-color:#2ecc71;" ng-repeat="it in item.sampleset.samples" ng-click="item.sampleset.sampleselected=item.sampleset.samples[$index];item.showlistfolmurla=false;" >
                                                        [[it.callname]]
                                                </li>
                                            </ul>
                                        </th>
                                        <th>
                                            <!--<select required ng-init="item.samplesset1.sampleselected=item.samplesset1.samples[0]" ng-model="item.samplesset1.sampleselected" class="form-control"-->
                                                <!--ng-options="it as it.callname for it in item.samplesset1.samples"></select>-->
                                            <div ng-click="item.samplesset1.samples.fiterformula='';item.showlistfolmurla1=!item.showlistfolmurla1;item.showlistfolmurla=false;">
                                                <span ng-init="item.samplesset1.sampleselected=item.samplesset1.samples[0]" class="form-control" style="cursor:pointer;background-color:green;color:black;">
                                                    [[item.samplesset1.sampleselected.callname]]
                                                </span>
                                            </div>
                                            <ul ng-mouseover="item.showlistfolmurla1=true;"  ng-mouseout="item.showlistfolmurla1=false;" class="fomurla" style="position:absolute;z-index:9999;" ng-show="item.showlistfolmurla1">
                                                <li><input class="form-control"  type="text" ng-change="filterformular(item.samplesset1.samples);"  ng-model="item.samplesset1.samples.fiterformula" placeholder="Lọc" style="background-color:#fff;" class="form-control" /> </li>
                                                <li ng-show="(item.samplesset1.samples.fiterformula=='' || it.canshow)"  style="background-color:#2ecc71;" ng-repeat="it in item.samplesset1.samples" ng-click="item.samplesset1.sampleselected=item.samplesset1.samples[$index];item.showlistfolmurla1=false;" >
                                                        [[it.callname]]
                                                </li>
                                            </ul>
                                        </th>
                                        <th>
                                            <input type="date" class="form-control" placeholder="dd-MM-yyyy" ng-click=";item.showlistfolmurla=false;;item.showlistfolmurla1=false;"
                                              required ng-model="item.activedate">
                                        </th>
                                        <!--<th>-->
                                            <!--<input type="date" class="form-control" placeholder="dd-MM-yyyy"-->
                                              <!--ng-model="item.expireddate">-->
                                        <!--</th>-->
                                        <th colspan="3">
                                             <img ng-show="loadingadd" class="loading-inner" src="/static/image/loading.gif">
                                            <button type="submit" ng-click="post_sampleregis(item)" class="btn btn-success btn-block"
                                                ng-disabled="sampleregisform.$invalid ||sampleregisform.$error.pattern||item.samplesset2.sampleselected.id==-1" >
                                                Lưu
                                            </button>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="it in item.detail">
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            [[it.samplename2]]
                                        </td>
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            [[it.samplename]]
                                        </td>
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            [[it.samplename1]]
                                        </td>
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            [[it.activedate]]
                                        </td>
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            [[it.expireddate]]
                                        </td>
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            [[it.usercreated]]
                                        </td>
                                        <td ng-if="$first" style="background-color:green;color:white;">
                                            <button title="Tính phí" ng-click="calculate(it,item);" type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#callfees">
                                                <span class="glyphicon glyphicon-eur"></span>
                                            </button>
                                            <button title="xóa" ng-click="removeitem(it,item,$index)" ng-if="it.ischange && (mypermission.isdelall || (mypermission.isdel && mypermission.userid==it.userid));" type="button" class="btn btn-danger btn-sm" >
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                        </td>
                                         <td ng-if="!$first">
                                            [[it.samplename2]]
                                        </td>
                                        <td ng-if="!$first">
                                            [[it.samplename]]
                                        </td>
                                        <td ng-if="!$first">
                                            [[it.samplename1]]
                                        </td>
                                        <td ng-if="!$first">
                                            [[it.activedate]]
                                        </td>
                                        <td ng-if="!$first">
                                            [[it.expireddate]]
                                        </td>
                                        <td ng-if="!$first">
                                            [[it.usercreated]]
                                        </td>
                                        <td ng-if="!$first">

                                            <button title="Tính phí"  ng-click="calculate(it,item);" type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#callfees">
                                                <span class="glyphicon glyphicon-eur"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
